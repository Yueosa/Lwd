# 项目概览

## Lwd — Lian Terraria World Generator

Lwd 是一个受 Terraria 启发的 **2D 世界生成工具**，使用 Rust 编写，基于 egui/eframe 图形框架提供桌面 GUI。

### 定位

- **开发工具**：面向世界生成算法的设计、调试和可视化
- **模块化引擎**：引擎-算法完全解耦，算法作者只需实现一个 trait
- **确定性生成**：同一 seed + 同一参数 + 同一世界尺寸 = 完全相同的世界

### 核心目标

1. 将 Terraria 风格的世界生成过程分解为可独立开发、调试的阶段
2. 提供步进式执行，支持逐步可视化每个生成阶段的效果
3. 算法参数可在 GUI 中实时调整并重放

### 技术栈

| 组件 | 技术 | 版本 |
|------|------|------|
| 语言 | Rust | Edition 2024 |
| GUI | egui + eframe | 0.27 |
| 序列化 | serde + serde_json | 1.0 |
| 随机数 | rand (StdRng) | 0.8 |
| 噪声 | noise | 0.9 |
| 图像导出 | image | 0.25 |
| 文件对话框 | rfd | 0.15 |

### 项目规模

- 约 **4400 行 Rust 代码**，30 个源文件
- 3 个 JSON 配置文件（方块 / 环境 / 世界尺寸）
- 1 个运行时 JSON（用户层级偏好 + UI 状态）
- 2 个子集字体（CJK 简体中文 + Unicode 符号）

### 视觉特性

- **粉蓝白主题**：全局统一的粉色-蓝色-白色配色方案
- **启动画面**：ASCII 艺术 "LIANWORLD" 渐变展示
- **缩略地图**：画布右下角实时世界缩略图 + 视口指示器
- **覆盖层**：环境着色 / 环境标签 / 层级分界线 / 层级标签，4 项独立开关
